<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chapter 30 – MERN Project Structure & Deployment</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h1>Chapter 30: MERN Project Structure & Deployment</h1>

<h2>What is a MERN Project?</h2>
<p>
A MERN project is a full-stack web application built using
MongoDB, Express.js, React.js, and Node.js.
It includes both frontend and backend in a single project.
</p>

<hr>

<h2>Typical MERN Project Structure</h2>

<h3>Backend Folder Structure</h3>
<pre>
backend/
│── models/
│── routes/
│── controllers/
│── middleware/
│── config/
│── server.js
│── package.json
</pre>

<ul>
  <li><strong>models:</strong> Mongoose schemas</li>
  <li><strong>routes:</strong> API routes</li>
  <li><strong>controllers:</strong> Business logic</li>
  <li><strong>middleware:</strong> Auth & error handling</li>
  <li><strong>server.js:</strong> Entry point</li>
</ul>

<hr>

<h3>Frontend Folder Structure</h3>
<pre>
frontend/
│── src/
│   │── components/
│   │── pages/
│   │── services/
│   │── App.js
│   │── index.js
│── public/
│── package.json
</pre>

<ul>
  <li><strong>components:</strong> Reusable UI components</li>
  <li><strong>pages:</strong> Page-level components</li>
  <li><strong>services:</strong> API calls</li>
</ul>

<hr>

<h2>Connecting Frontend with Backend</h2>
<p>
React frontend communicates with Node/Express backend
using REST APIs.
</p>

<pre>
axios.get("http://localhost:5000/api/users")
  .then(res => console.log(res.data));
</pre>

<hr>

<h2>Environment Variables</h2>
<p>
Environment variables store sensitive information
such as database URL and secret keys.
</p>

<h3>.env Example</h3>
<pre>
PORT=5000
MONGO_URI=mongodb://localhost:27017/mernDB
JWT_SECRET=mysecretkey
</pre>

<hr>

<h2>Using dotenv Package</h2>
<pre>
npm install dotenv
</pre>

<pre>
require("dotenv").config();
const PORT = process.env.PORT;
</pre>

<hr>

<h2>Building React App</h2>
<p>
Before deployment, React app must be converted into
production-ready files.
</p>

<pre>
npm run build
</pre>

<p>
This creates a <strong>build</strong> folder containing static files.
</p>

<hr>

<h2>Serving React Build from Node.js</h2>
<pre>
const path = require("path");

app.use(express.static(
  path.join(__dirname, "frontend/build")
));

app.get("*", (req, res) => {
  res.sendFile(
    path.join(__dirname, "frontend/build/index.html")
  );
});
</pre>

<hr>

<h2>Deployment Options</h2>

<h3>Frontend Deployment</h3>
<ul>
  <li>Netlify</li>
  <li>Vercel</li>
</ul>

<h3>Backend Deployment</h3>
<ul>
  <li>Render</li>
  <li>Railway</li>
  <li>AWS</li>
</ul>

<h3>Database</h3>
<ul>
  <li>MongoDB Atlas (Cloud)</li>
</ul>

<hr>

<h2>Steps to Deploy MERN App (Summary)</h2>
<ol>
  <li>Create MongoDB Atlas cluster</li>
  <li>Set environment variables</li>
  <li>Deploy backend</li>
  <li>Build React app</li>
  <li>Deploy frontend</li>
</ol>

<hr>

<h2>Best Practices</h2>
<ul>
  <li>Use MVC structure for backend</li>
  <li>Keep frontend & backend separated</li>
  <li>Use environment variables</li>
  <li>Secure APIs with JWT</li>
</ul>

<hr>

<h2>Summary</h2>
<ul>
  <li>MERN project includes frontend & backend</li>
  <li>Proper folder structure improves maintainability</li>
  <li>Deployment makes app live</li>
</ul>

</body>
</html>
