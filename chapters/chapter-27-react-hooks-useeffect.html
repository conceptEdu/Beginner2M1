<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chapter 27 â€“ React Hooks (useEffect)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h1>Chapter 27: React Hooks (useEffect & Lifecycle)</h1>

<h2>What are React Hooks?</h2>
<p>
Hooks are special functions in React that allow functional components
to use state and lifecycle features without writing class components.
</p>

<hr>

<h2>Why Hooks were Introduced?</h2>
<ul>
  <li>Reuse stateful logic easily</li>
  <li>Reduce complex class components</li>
  <li>Write cleaner and readable code</li>
</ul>

<hr>

<h2>Commonly Used Hooks</h2>
<ul>
  <li>useState()</li>
  <li>useEffect()</li>
  <li>useContext()</li>
  <li>useRef()</li>
</ul>

<hr>

<h2>What is useEffect?</h2>
<p>
The <code>useEffect</code> hook is used to perform side effects
in functional components such as:
</p>
<ul>
  <li>Fetching data from API</li>
  <li>DOM manipulation</li>
  <li>Timers</li>
  <li>Subscriptions</li>
</ul>

<hr>

<h2>useEffect Syntax</h2>
<pre>
useEffect(() => {
  // side effect code
}, [dependencies]);
</pre>

<hr>

<h2>useEffect Without Dependency Array</h2>
<p>
Runs on every render.
</p>

<pre>
useEffect(() => {
  console.log("Component rendered");
});
</pre>

<hr>

<h2>useEffect With Empty Dependency Array</h2>
<p>
Runs only once when component mounts.
</p>

<pre>
useEffect(() => {
  console.log("Component mounted");
}, []);
</pre>

<hr>

<h2>useEffect With Dependencies</h2>
<p>
Runs when dependency value changes.
</p>

<pre>
useEffect(() => {
  console.log("Count changed");
}, [count]);
</pre>

<hr>

<h2>Cleanup Function in useEffect</h2>
<p>
Cleanup function is used to clean resources
like intervals and subscriptions.
</p>

<pre>
useEffect(() => {
  const timer = setInterval(() => {
    console.log("Running...");
  }, 1000);

  return () => {
    clearInterval(timer);
  };
}, []);
</pre>

<hr>

<h2>Lifecycle Methods in Class Components</h2>
<ul>
  <li>componentDidMount()</li>
  <li>componentDidUpdate()</li>
  <li>componentWillUnmount()</li>
</ul>

<hr>

<h2>Lifecycle Mapping with useEffect</h2>
<table border="1" cellpadding="8">
  <tr>
    <th>Class Lifecycle</th>
    <th>useEffect Equivalent</th>
  </tr>
  <tr>
    <td>componentDidMount</td>
    <td>useEffect(() => {}, [])</td>
  </tr>
  <tr>
    <td>componentDidUpdate</td>
    <td>useEffect(() => {}, [deps])</td>
  </tr>
  <tr>
    <td>componentWillUnmount</td>
    <td>Cleanup function</td>
  </tr>
</table>

<hr>

<h2>Example: API Call using useEffect</h2>
<pre>
import { useEffect, useState } from "react";

function Users() {
  const [users, setUsers] = useState([]);

  useEffect(() => {
    fetch("https://jsonplaceholder.typicode.com/users")
      .then(res => res.json())
      .then(data => setUsers(data));
  }, []);

  return (
    <ul>
      {users.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
</pre>

<hr>

<h2>Rules of Hooks</h2>
<ul>
  <li>Only call hooks at the top level</li>
  <li>Only call hooks inside React functions</li>
</ul>

<hr>

<h2>Summary</h2>
<ul>
  <li>Hooks allow state and lifecycle in functional components</li>
  <li>useEffect handles side effects</li>
  <li>Dependency array controls execution</li>
</ul>

</body>
</html>
